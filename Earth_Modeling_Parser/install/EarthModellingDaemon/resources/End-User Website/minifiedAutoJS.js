function loadList(){require("esri/Map esri/views/SceneView esri/layers/MapImageLayer esri/widgets/Legend dojo/domReady! dojo/on dojo/dom".split(" "),function(t,y,u,v,w,K,L){function z(){if(m)c.innerHTML="<h2>Visualization of Earth Modeling Systems</h2> How To Use: <br> 1. Select a region.<br> 2. Select a compound.<br> 3. Select a year.<br> 4. If applicable, select a month. Currently, only CH4 is updated monthly.<br> 5. Click on the 'Load Map' button.<br><br> NOTE: Viewing freshly uploaded maps may require you to refresh your browser's cache. On most browsers, this can can be done by pressing the following buttons simultaneously: 'Ctrl+Shift+R'. <br> An explanation button (the '?' button) is present next to the compound selection menu to provide a detailed description of the selected compound.",
$(c).show();else if(n){switch(k.options[k.selectedIndex].text){default:c.innerHTML="<h2>Visualization of Earth Modeling Systems</h2> How To Use: <br> 1. Select a region.<br> 2. Select a compound.<br> 3. Select a year.<br> 4. If applicable, select a month. Currently, only CH4 is updated monthly.<br> 5. Click on the 'Load Map' button.<br><br> NOTE: Viewing freshly uploaded maps may require you to refresh your browser's cache. On most browsers, this can can be done by pressing the following buttons simultaneously: 'Ctrl+Shift+R'. <br> An explanation button (the '?' button) is present next to the compound selection menu to provide a detailed description of the selected compound.";
break;case "CH4":c.innerHTML="<h2>CH<sub>4</sub> Explanation </h2><h3>Full Name: Methane</h3>Definition: Here we provide modeling estimate of soil-atmosphere exchange of methane. Negative values indicate CH<sub>4</sub> uptake by land ecosystem while positive values indicate CH<sub>4</sub> emission to the atmosphere.<br>Sources: Major natural sources: Wetland, termites, and oceans. Major human sources: Fossil fuel, Livestock farming, Landfills and waste, Biomass burning, Rice agriculture.<br>Effects: CH<sub>4</sub> is more efficient at trapping radiation than CO<sub>2</sub>. The cumulative impact of the emission of 1 g CH<sub>4</sub> is 28 times as much as that of 1 g CO<sub>2</sub> over a 100-year period according to the 5th IPCC report.";
break;case "ET":c.innerHTML="<h2>ET Explanation </h2><h3>Full Name: Evapotranspiration</h3>Definition: Evapotranspiration is the sum of evaporation and plant transpiration from the Earth's land and ocean surface to the atmosphere.<br>Sources: N/A<br>Effects: ET is a major component of energy as well as water-vapor exchange between land surfaces and atmosphere, significantly impacting the water and energy balance of the earth. Transpiration is essential to the plant growth through transpiration pull to provide sufficient water and nutrient. In addition, Transpiration is closely coupled to the water use efficiency (the ratio of the rate of carbon assimilation to the rate of transpiration).";
break;case "LEACHNO3":c.innerHTML="<h2>NO<sub>3</sub> Leaching Explanation </h2><h3>Full Name: Nitrate Leaching</h3>Definition: Nitrate leaching refers to the loss of water-soluble nitrate from soil, due to rain and irrigation.<br>Sources: Rock Weathering, Atmosphere deposition, Nitrification, Nitrogen fertilizer.<br>Effects: The nutrients of plants is directly lost to the river due to NO<sub>3</sub>- leaching. Leached nitrate is also a big source of N<sub>2</sub>O. In addition, High levels of NO<sub>3</sub>- in water can adversely affect oxygen levels for both humans and aquatic systems. Human health issues include methemoglobinemia and anoxia, commonly referred to as blue baby syndrome. Eutrophication is another issue can cause the death of fish and other marine species.";
break;case "N2O":c.innerHTML="<h2>N<sub>2</sub>O Explanation </h2><h3>Full Name: Nitrous oxide </h3>Definition: N<sub>2</sub>O is a chemical compound, an oxide of nitrogen with the formula N<sub>2</sub>O.<br>Sources: Comes mainly from Denitrification, and small part from Fossil fuel combustion, and Nitrification.<br>Effects: N<sub>2</sub>O has a significant global warming potential as a potent greenhouse gas. Over a 100-year period, the atmospheric heat trapping ability of 1 g N<sub>2</sub>O is 265 times as much as that of 1 g CO<sub>2</sub> according to the 5th IPCC report. N2O also acts as the single most important ozone-depleting gas.";
break;case "NPP":c.innerHTML="<h2>NPP Explanation </h2><h3>Full Name: Net Primary Productivity</h3>Definition: NPP represents the rate of biomass generation or carbon assimilation through photosynthesis. Net Primary Productivity is calculated as the difference between Gross Primary productivity and Plant Respiration.<br>Sources: N/A<br>Effects: NPP represents the net carbon fixation by plants, which is a process of mitigating the greenhouse effects.";break;case "NUPTAKE":c.innerHTML="<h2>N uptake Explanation </h2><h3>Full Name: Nitrogen uptake by plants</h3>Definition: Plants absorb nitrogen from the soil in the form of nitrate (NO<sub>3</sub>-) and ammonium (NH<sub>4</sub>+).<br>Sources: Rock weathering, Lighting, Biological nitrogen fixation, Atmosphere deposition, Nitrogen Fertilizer.<br>Effects: Plants can take up nitrogen from soils, competing with the microbial community, and thus meet N demands for maintaining plant growth and productivity.";
break;case "RH":c.innerHTML="<h2>R<sub>h</sub> Explanation </h2><h3>Full Name: Heterotrophic Respiration</h3>Definition: The release of CO<sub>2</sub> during the process of decomposition of organic matter in the soil by soil animals, fungi, and other decomposer organisms.<br>Sources: Plants debris, Soil organic matter, Soil microbes.<br>Effects: R<sub>h</sub> releases carbon into the atmosphere and thus increases the atmospheric CO<sub>2</sub> concentration.";break;case "SOC":c.innerHTML="<h2>SOC Explanation </h2><h3>Full Name: Soil organic carbon</h3>Definition: SOC is present as soil organic matter, consisting of plant and animal residues at various stages of decomposition, cells and tissues of soil organisms, and substances synthesized by soil organisms.<br>Sources: Plants and animals residues, Soil microbes.<br>Effects: SOC is vital to soil capacity to maintain nutrients. On the other hand, SOC is a big carbon pool. The increasing decomposition rate caused by global warming may considerably affect the atmospheric CO<sub>2</sub> content."}$(c).show()}}
function b(a,f){for(var d=0;d<f.length;++d)a[d+1]=new Option(f[d],f[d])}function x(a){for(var f=a.length-1;0<f;f--)a[f]=null}function e(a){for(var f=0;f<a.length;++f){var d;switch(a[f]){case "0":d="January";break;case "1":d="February";break;case "2":d="March";break;case "3":d="April";break;case "4":d="May";break;case "5":d="June";break;case "6":d="July";break;case "7":d="August";break;case "8":d="September";break;case "9":d="October";break;case "10":d="November";break;case "11":d="December"}q[f+1]=
new Option(d,a[f])}0<a.length&&(q.style.display="inline")}var g=document.getElementById("region"),k=document.getElementById("compound"),a=document.getElementById("year"),q=document.getElementById("month");u=document.getElementById("loadMapBtn");var r=document.getElementById("legendShow");v=document.getElementById("explain");var c=document.getElementById("popup");w=document.getElementById("help");var p;t=new t({basemap:"oceans"});var l=new y({container:"viewDiv",map:t}),n=!1,m=!1;c.innerHTML="<h2>Visualization of Earth Modeling Systems</h2> How To Use: <br> 1. Select a region.<br> 2. Select a compound.<br> 3. Select a year.<br> 4. If applicable, select a month. Currently, only CH4 is updated monthly.<br> 5. Click on the 'Load Map' button.<br><br> NOTE: Viewing freshly uploaded maps may require you to refresh your browser's cache. On most browsers, this can can be done by pressing the following buttons simultaneously: 'Ctrl+Shift+R'. <br> An explanation button (the '?' button) is present next to the compound selection menu to provide a detailed description of the selected compound.";
w.addEventListener("click",function(){m?($(c).hide(),m=!1):(m=!0,n=!1,z())});v.addEventListener("click",function(){n?($(c).hide(),n=!1):(n=!0,m=!1,z())});c.addEventListener("click",function(){$(c).hide();m=n=!1});g[g.length]=new Option("GLOBAL","GLOBAL");g[g.length]=new Option("MIDWESTERN_US","MIDWESTERN_US");g[g.length]=new Option("MISSISSIPPI_RIVER_BASIN","MISSISSIPPI_RIVER_BASIN");g.addEventListener("change",function(){var e=["NPP"],f="ET LEACHNO3 N2O NPP NUPTAKE RH SOC".split(" "),d=["CH4"];x(k);
x(a);x(q);q.style.display="none";switch(g.options[g.selectedIndex].text){case "GLOBAL":b(k,e);break;case "MIDWESTERN_US":b(k,f);break;case "MISSISSIPPI_RIVER_BASIN":b(k,d)}});k.addEventListener("change",function(){var e=[],f=[],d=[],c=[],l=["2004","2005","2008","2009","2010"],A=[],h=[],F=[],m=[],n=["1986","1987"],p=["1981","1985","1990"],r=["1989","1990"],t=["1982"],G=["1993","1994"],H=["1982"],I=["1987"],J=["2004","2009","2010"],B=[],C=[],D=[],E=[],u=[],v=[],w=[];x(a);x(q);q.style.display="none";
var y=g.options[g.selectedIndex].text.concat(k.options[k.selectedIndex].text);z();switch(y){case "GLOBALCH4":b(a,e);break;case "GLOBALET":b(a,f);break;case "GLOBALLEACHNO3":b(a,d);break;case "GLOBALN2O":b(a,c);break;case "GLOBALNPP":b(a,l);break;case "GLOBALNUPTAKE":b(a,A);break;case "GLOBALRH":b(a,h);break;case "GLOBALSOC":b(a,F);break;case "MIDWESTERN_USCH4":b(a,m);break;case "MIDWESTERN_USET":b(a,n);break;case "MIDWESTERN_USLEACHNO3":b(a,p);break;case "MIDWESTERN_USN2O":b(a,r);break;case "MIDWESTERN_USNPP":b(a,
t);break;case "MIDWESTERN_USNUPTAKE":b(a,G);break;case "MIDWESTERN_USRH":b(a,H);break;case "MIDWESTERN_USSOC":b(a,I);break;case "MISSISSIPPI_RIVER_BASINCH4":b(a,J);break;case "MISSISSIPPI_RIVER_BASINET":b(a,B);break;case "MISSISSIPPI_RIVER_BASINLEACHNO3":b(a,C);break;case "MISSISSIPPI_RIVER_BASINN2O":b(a,D);break;case "MISSISSIPPI_RIVER_BASINNPP":b(a,E);break;case "MISSISSIPPI_RIVER_BASINNUPTAKE":b(a,u);break;case "MISSISSIPPI_RIVER_BASINRH":b(a,v);break;case "MISSISSIPPI_RIVER_BASINSOC":b(a,w)}});
a.addEventListener("change",function(){var b=[],f=[],d=[],c=[],l=[],A=[],h=[],m=[],n=[],p=[],r=[],t=[],u=[],v=[],w=[],y=[],z=[],B=["9"],C="0 1 2 3 4 5 6 7 8 9 10 11".split(" "),D="2 4 5 6 7 8 9 10 11".split(" ");x(q);q.style.display="none";var E=a.options[a.selectedIndex].text;switch(g.options[g.selectedIndex].text.concat(k.options[k.selectedIndex].text).concat(E)){case "GLOBALNPP2004":e(b);break;case "GLOBALNPP2005":e(f);break;case "GLOBALNPP2008":e(d);break;case "GLOBALNPP2009":e(c);break;case "GLOBALNPP2010":e(l);
break;case "MIDWESTERN_USET1986":e(A);break;case "MIDWESTERN_USET1987":e(h);break;case "MIDWESTERN_USLEACHNO31981":e(m);break;case "MIDWESTERN_USLEACHNO31985":e(n);break;case "MIDWESTERN_USLEACHNO31990":e(p);break;case "MIDWESTERN_USN2O1989":e(r);break;case "MIDWESTERN_USN2O1990":e(t);break;case "MIDWESTERN_USNPP1982":e(u);break;case "MIDWESTERN_USNUPTAKE1993":e(v);break;case "MIDWESTERN_USNUPTAKE1994":e(w);break;case "MIDWESTERN_USRH1982":e(y);break;case "MIDWESTERN_USSOC1987":e(z);break;case "MISSISSIPPI_RIVER_BASINCH42004":e(B);
break;case "MISSISSIPPI_RIVER_BASINCH42009":e(C);break;case "MISSISSIPPI_RIVER_BASINCH42010":e(D)}});u.addEventListener("click",function(){require("esri/Map esri/views/SceneView esri/layers/MapImageLayer esri/widgets/Legend dojo/domReady! dojo/on dojo/dom".split(" "),function(a,b,d,e,c,g,h){c=h.byId("region");a=h.byId("compound");b=h.byId("year");h=h.byId("month");g="Choose a month."==h.options[h.selectedIndex].text?"m-1":h.value;c=new_url="m-1"!=g?"https://clu-vems.eeob.iastate.edu:6443/arcgis/rest/services/EarthModelingTest/"+
c.value+compound.value+"y"+b.value+"m"+g+"/MapServer":"https://clu-vems.eeob.iastate.edu:6443/arcgis/rest/services/EarthModelingTest/"+c.value+compound.value+"y"+b.value+g+"/MapServer";g=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");g.open("GET",c,!1);g.send();if(200!==g.status)alert("The server cannot find that map.");else{l.map.removeAll();l.ui.remove(p);var f=new d({url:c,opacity:.75});l.map.add(f);var k;k="Choose a month."==h.options[h.selectedIndex].text?a.options[a.selectedIndex].text+
" "+b.options[b.selectedIndex].text:h.options[h.selectedIndex].text+" "+b.options[b.selectedIndex].text;l.then(function(){p=new e({view:l,layerInfos:[{layer:f,title:k}]});l.ui.add(p,"bottom-right")});f.then(function(){l.goTo(f.fullExtent)})}})});r.addEventListener("click",function(){require("esri/Map esri/views/SceneView esri/layers/MapImageLayer esri/widgets/Legend dojo/domReady! dojo/on dojo/dom".split(" "),function(a,b,c,e,g,k,h){"hide"===r.value?(l.then(function(){l.ui.remove(p)}),r.value="show"):
(l.then(function(){l.ui.add(p,"bottom-right")}),r.value="hide")})})})};
